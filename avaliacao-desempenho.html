<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avalia√ß√£o de Desempenho ‚Ä¢ Gest√£o de RH</title>

  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="avaliacao-desempenho.css" />

  <!-- inclui menu/header -->
  <script src="js/include-menu.js" defer></script>

  <!-- ‚úÖ estilos extras (s√≥ para: blocos recolhidos + √≠cone verde/vermelho) -->
  <style>
    /* Accordion dos grupos (Compet√™ncias Organizacionais) */
    .ad-acc{
      border: 1px solid rgba(15,20,40,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.78);
      box-shadow: 0 12px 35px rgba(0,0,0,.06);
      overflow: hidden;
      margin-top: 12px;
    }
    .ad-acc summary{ list-style: none; }
    .ad-acc summary::-webkit-details-marker{ display:none; }

    .ad-acc__sum{
      cursor: pointer;
      padding: 12px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: rgba(15,20,40,.03);
      border-bottom: 1px solid rgba(15,20,40,.08);
      user-select: none;
    }

    .ad-acc__left{
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .ad-acc__caret{
      width: 18px;
      height: 18px;
      display: inline-grid;
      place-items: center;
      border-radius: 8px;
      border: 1px solid rgba(15,20,40,.12);
      background: rgba(255,255,255,.7);
      flex: 0 0 auto;
    }
    .ad-acc__caret::before{ content: "‚ñ∏"; opacity: .8; }
    details[open] .ad-acc__caret::before{ content: "‚ñæ"; }

    .ad-acc__title{
      font-weight: 900;
      letter-spacing: .2px;
      text-transform: uppercase;
      font-size: 12.5px;
      color: rgba(15,20,40,.92);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .ad-acc__right{
      display: inline-flex;
      align-items: center;
      gap: 10px;
      flex: 0 0 auto;
    }

    .ad-acc__avg{
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,20,40,.14);
      background: rgba(255,255,255,.75);
      font-weight: 900;
      font-size: 12px;
    }

    /* Status (verde = preenchido, vermelho = n√£o preenchido) */
    .ad-acc__status{
      width: 22px;
      height: 22px;
      border-radius: 999px;
      display: inline-grid;
      place-items: center;
      border: 1px solid rgba(15,20,40,.18);
      background: rgba(255,255,255,.75);
      flex: 0 0 auto;
    }

    .ad-acc.is-complete .ad-acc__status{
      border-color: rgba(46,204,113,.55);
      background: rgba(46,204,113,.16);
    }
    .ad-acc.is-complete .ad-acc__status::before{
      content:"‚úì";
      font-weight: 900;
      font-size: 13px;
    }

    .ad-acc.is-incomplete .ad-acc__status{
      border-color: rgba(231,76,60,.55);
      background: rgba(231,76,60,.12);
    }
    .ad-acc.is-incomplete .ad-acc__status::before{
      content:"!";
      font-weight: 900;
      font-size: 13px;
    }

    .ad-acc__content{
      padding: 12px 14px 14px;
    }

    /* tabela interna do accordion */
    .ad-table--mini th{ font-size: 12px; }
  </style>
</head>

<body>
  <div id="app-menu"></div>

  <main class="ad">
    <!-- =========================
      VIEW 1: LISTA DE CICLOS
    ========================== -->
    <section class="ad-view is-active" id="view-ciclos" aria-label="Lista de ciclos">
      <header class="ad-head">
        <div>
          <h2 class="ad-title">Avalia√ß√µes de Desempenho</h2>
          <p class="ad-sub">Gerencie ciclos, status e avalia√ß√µes por colaborador.</p>
        </div>

        <button class="ad-btn ad-btn--primary" type="button" data-action="novo-ciclo">
          <span class="ad-btn__icon" aria-hidden="true">Ôºã</span>
          Novo ciclo
        </button>
      </header>

      <div class="ad-card">
        <div class="ad-toolbar">
          <div class="ad-search">
            <span class="ad-search__icon" aria-hidden="true">üîé</span>
            <input id="searchCiclo" class="ad-search__input" type="text" placeholder="Pesquisar ciclo..." />
          </div>
        </div>

        <div class="ad-table-wrap" role="region" aria-label="Tabela de ciclos" tabindex="0">
          <table class="ad-table" id="tableCiclos">
            <thead>
              <tr>
                <th>Per√≠odo <span class="ad-sort">‚ñæ</span></th>
                <th>Tipo <span class="ad-sort">‚ñæ</span></th>
                <th>Per√≠odo para avalia√ß√£o <span class="ad-sort">‚ñæ</span></th>
                <th>Status <span class="ad-sort">‚ñæ</span></th>
                <th class="ad-col-actions">A√ß√£o</th>
              </tr>

              <!-- filtros -->
              <tr class="ad-filters">
                <th><input class="ad-filter" data-col="periodo" type="text" placeholder="Filtrar" /></th>
                <th><input class="ad-filter" data-col="tipo" type="text" placeholder="Filtrar" /></th>
                <th><input class="ad-filter" data-col="janela" type="text" placeholder="Filtrar" /></th>
                <th>
                  <select class="ad-filter ad-filter--select" data-col="status">
                    <option value="">Todos</option>
                    <option value="N√£o iniciado">N√£o iniciado</option>
                    <option value="Em andamento">Em andamento</option>
                    <option value="Encerrado">Encerrado</option>
                  </select>
                </th>
                <th></th>
              </tr>
            </thead>

            <tbody>
              <!-- 2026 ‚Äì 2¬∫ Semestre (N√£o iniciado) -->
              <tr data-cycle="2026-2s">
                <td data-col="periodo">2026 - 2¬∫ Semestre</td>
                <td data-col="tipo">Semestral</td>
                <td data-col="janela">01/01/2026 a 15/01/2026</td>
                <td data-col="status">
                  <span class="ad-pill ad-pill--warn">üü° N√£o iniciado</span>
                </td>
                <td class="ad-col-actions">
                  <button class="ad-btn ad-btn--small" type="button"
                    data-action="acessar-ciclo"
                    data-cycle-id="2026-2s"
                    data-cycle-label="2026 - 2¬∫ Semestre"
                    data-cycle-status="N√£o iniciado">
                    Acessar
                  </button>
                </td>
              </tr>

              <!-- 2026 ‚Äì 1¬∫ Semestre (N√£o iniciado) -->
              <tr data-cycle="2026-1s">
                <td data-col="periodo">2026 - 1¬∫ Semestre</td>
                <td data-col="tipo">Semestral</td>
                <td data-col="janela">01/07/2026 a 15/07/2026</td>
                <td data-col="status">
                  <span class="ad-pill ad-pill--warn">üü° N√£o iniciado</span>
                </td>
                <td class="ad-col-actions">
                  <button class="ad-btn ad-btn--small" type="button"
                    data-action="acessar-ciclo"
                    data-cycle-id="2026-1s"
                    data-cycle-label="2026 - 1¬∫ Semestre"
                    data-cycle-status="N√£o iniciado">
                    Acessar
                  </button>
                </td>
              </tr>

              <!-- 2025 ‚Äì 2¬∫ Semestre (Em andamento) -->
              <tr data-cycle="2025-2s">
                <td data-col="periodo">2025 - 2¬∫ Semestre</td>
                <td data-col="tipo">Semestral</td>
                <td data-col="janela">01/01/2026 a 15/01/2026</td>
                <td data-col="status">
                  <span class="ad-pill ad-pill--info">üü£ Em andamento</span>
                </td>
                <td class="ad-col-actions">
                  <button class="ad-btn ad-btn--small" type="button"
                    data-action="acessar-ciclo"
                    data-cycle-id="2025-2s"
                    data-cycle-label="2025 - 2¬∫ Semestre"
                    data-cycle-status="Em andamento">
                    Acessar
                  </button>
                </td>
              </tr>

              <!-- 2025 ‚Äì 1¬∫ Semestre (Encerrado) -->
              <tr data-cycle="2025-1s">
                <td data-col="periodo">2025 - 1¬∫ Semestre</td>
                <td data-col="tipo">Semestral</td>
                <td data-col="janela">01/07/2025 a 15/07/2025</td>
                <td data-col="status">
                  <span class="ad-pill ad-pill--danger">üî¥ Encerrado</span>
                </td>
                <td class="ad-col-actions">
                  <button class="ad-btn ad-btn--small ad-btn--ghost" type="button"
                    data-action="ver-resultados"
                    data-cycle-id="2025-1s"
                    data-cycle-label="2025 - 1¬∫ Semestre"
                    data-cycle-status="Encerrado">
                    Ver resultados
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
      VIEW 2: COLABORADORES DO CICLO
    ========================== -->
    <section class="ad-view" id="view-colaboradores" aria-label="Colaboradores do ciclo">
      <header class="ad-head">
        <div>
          <h2 class="ad-title" id="cycleTitle">Avalia√ß√£o de Desempenho</h2>
          <p class="ad-sub" id="cycleSub">Lista de colaboradores do ciclo.</p>
        </div>

        <button class="ad-btn ad-btn--ghost" type="button" data-action="voltar-ciclos">‚Üê Voltar</button>
      </header>

      <div class="ad-card">
        <div class="ad-toolbar">
          <div class="ad-search">
            <span class="ad-search__icon" aria-hidden="true">üîé</span>
            <input id="searchColab" class="ad-search__input" type="text" placeholder="Pesquisar colaborador..." />
          </div>
        </div>

        <div class="ad-table-wrap" role="region" aria-label="Tabela de colaboradores" tabindex="0">
          <table class="ad-table" id="tableColabs">
            <thead>
              <tr>
                <th>Colaborador <span class="ad-sort">‚ñæ</span></th>
                <th>Cargo <span class="ad-sort">‚ñæ</span></th>
                <th>Departamento <span class="ad-sort">‚ñæ</span></th>
                <th>Admiss√£o <span class="ad-sort">‚ñæ</span></th>
                <th>Status <span class="ad-sort">‚ñæ</span></th>
                <th>Data da Avalia√ß√£o</th>
                <th class="ad-col-actions">A√ß√µes</th>
              </tr>

              <tr class="ad-filters">
                <th><input class="ad-filter" data-col="colaborador" type="text" placeholder="Filtrar" /></th>
                <th><input class="ad-filter" data-col="cargo" type="text" placeholder="Filtrar" /></th>
                <th><input class="ad-filter" data-col="depto" type="text" placeholder="Filtrar" /></th>
                <th><input class="ad-filter" data-col="admissao" type="text" placeholder="Filtrar" /></th>
                <th>
                  <select class="ad-filter ad-filter--select" data-col="status">
                    <option value="">Todos</option>
                    <option value="N√£o avaliado">N√£o avaliado</option>
                    <option value="Avaliado">Avaliado</option>
                  </select>
                </th>
                <th></th>
                <th></th>
              </tr>
            </thead>

            <tbody id="colabsBody">
              <!-- preenchido via JS conforme status do ciclo -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- =========================
      VIEW 3: FORMUL√ÅRIO DA AVALIA√á√ÉO (ABAS)
    ========================== -->
    <section class="ad-view" id="view-avaliacao" aria-label="Formul√°rio de avalia√ß√£o">
      <header class="ad-head">
        <div>
          <h2 class="ad-title" id="avaliacaoTitle">Avalia√ß√£o de Desempenho</h2>
          <p class="ad-sub">Preencha as abas e finalize nos resultados.</p>
        </div>

        <button class="ad-btn ad-btn--ghost" type="button" data-action="voltar-colaboradores">‚Üê Voltar</button>
      </header>

      <div class="ad-card ad-card--pad">
        <div class="ad-meta">
          <div class="ad-avatar" aria-hidden="true">üë§</div>

          <div class="ad-meta__grid">
            <div class="ad-meta__item"><strong>Colaborador:</strong> <span id="metaColab">‚Äî</span></div>
            <div class="ad-meta__item"><strong>Cargo:</strong> <span id="metaCargo">‚Äî</span></div>
            <div class="ad-meta__item"><strong>L√≠der:</strong> <span id="metaLider">‚Äî</span></div>
            <div class="ad-meta__item"><strong>Departamento:</strong> <span id="metaDepto">‚Äî</span></div>

            <div class="ad-meta__item">
              <strong>Data da avalia√ß√£o:</strong>
              <input id="metaDataAvaliacao" class="ad-input" type="text" placeholder="dd/mm/aaaa" />
            </div>
          </div>
        </div>

        <nav class="ad-tabs" aria-label="Abas da avalia√ß√£o">
          <button class="ad-tab is-active" type="button" data-tab="orientacoes">Orienta√ß√µes</button>
          <button class="ad-tab" type="button" data-tab="org">Compet√™ncias Organizacionais</button>
          <button class="ad-tab" type="button" data-tab="comp">Compet√™ncias Comportamentais</button>
          <button class="ad-tab" type="button" data-tab="perf">Performance</button>
          <button class="ad-tab" type="button" data-tab="res">Resultados</button>
        </nav>

        <!-- ====== ORIENTA√á√ïES ====== -->
        <section class="ad-panel is-active" id="tab-orientacoes">
          <h3 class="ad-h3">Orienta√ß√µes</h3>
          <div class="ad-box">
            <p>
              A Avalia√ß√£o de Desempenho √© um momento de di√°logo entre l√≠der e colaborador, com foco no desenvolvimento
              profissional, alinhamento de expectativas e melhoria cont√≠nua. O l√≠der deve conduzir este processo com
              imparcialidade, respeito e responsabilidade.
            </p>
            <p class="ad-muted">
              Recomenda√ß√£o: realize em momento reservado, promova conversa clara, transparente e construtiva,
              utilizando registros de feedbacks e observa√ß√µes para orientar o crescimento.
            </p>
          </div>

          <div class="ad-actions">
            <button class="ad-btn ad-btn--primary" type="button" data-action="proximo-tab" data-next="org">
              Continuar avalia√ß√£o
            </button>
          </div>
        </section>

        <!-- ====== COMPET√äNCIAS ORGANIZACIONAIS (‚úÖ AGORA RECOLH√çVEL POR ITEM) ====== -->
        <section class="ad-panel" id="tab-org">
          <div class="ad-panel__top">
            <h3 class="ad-h3">Avalia√ß√£o das Compet√™ncias Organizacionais</h3>
            <a class="ad-link" href="#" onclick="alert('Compet√™ncias organizacionais: valores e forma de atuar na empresa.'); return false;">
              ? O que s√£o compet√™ncias organizacionais?
            </a>
          </div>

          <div class="ad-scorecard">
            <div class="ad-scorecard__label">Resultado (Organizacionais)</div>
            <div class="ad-scorecard__value">
              <span id="scoreOrgPct">0%</span>
              <span class="ad-scorecard__sep">|</span>
              <span id="scoreOrgNota">0,00 / 10</span>
            </div>
          </div>

          <div class="ad-box ad-muted" style="margin-top:12px;">
            <strong>Refer√™ncia (1 a 5):</strong>
            <div style="display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:8px; margin-top:8px;">
              <div><strong>1</strong> = Raramente (20%)</div>
              <div><strong>2</strong> = Poucas vezes (40%)</div>
              <div><strong>3</strong> = Com frequ√™ncia (60%)</div>
              <div><strong>4</strong> = Muitas vezes (80%)</div>
              <div><strong>5</strong> = Todas as vezes (100%)</div>
            </div>
          </div>

          <!-- ‚úÖ Cada item agora come√ßa RECOLHIDO, com √≠cone verde/vermelho -->
          <details class="ad-acc is-complete" data-acc-group="org-etica">
            <summary class="ad-acc__sum">
              <span class="ad-acc__left">
                <span class="ad-acc__caret" aria-hidden="true"></span>
                <span class="ad-acc__title">√âtica e responsabilidade profissional</span>
              </span>
              <span class="ad-acc__right">
                <span class="ad-acc__avg"><span data-avg-for="org-etica">0%</span></span>
                <span class="ad-acc__status" aria-label="Status" data-group-status="org-etica"></span>
              </span>
            </summary>

            <div class="ad-acc__content">
              <div class="ad-table-wrap">
                <table class="ad-table ad-table--form ad-table--mini" data-calc="org">
                  <thead>
                    <tr>
                      <th style="width:54%">Compet√™ncia Organizacional</th>
                      <th style="width:16%">N√≠vel Requerido</th>
                      <th style="width:16%">N√≠vel Atingido</th>
                      <th style="width:14%">Desempenho</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="ad-row" data-group="org-etica" data-req="5">
                      <td class="ad-q">‚Ä¢ Cumpre normas internas e pol√≠ticas da empresa sem necessidade de refor√ßo constante.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-etica" data-req="5">
                      <td class="ad-q">‚Ä¢ Demonstra postura √©tica no tratamento de informa√ß√µes e nas rela√ß√µes profissionais.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-etica" data-req="5">
                      <td class="ad-q">‚Ä¢ Assume responsabilidades e responde adequadamente por suas entregas.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </details>

          <details class="ad-acc is-complete" data-acc-group="org-cliente">
            <summary class="ad-acc__sum">
              <span class="ad-acc__left">
                <span class="ad-acc__caret" aria-hidden="true"></span>
                <span class="ad-acc__title">Compromisso com o cliente</span>
              </span>
              <span class="ad-acc__right">
                <span class="ad-acc__avg"><span data-avg-for="org-cliente">0%</span></span>
                <span class="ad-acc__status" aria-label="Status" data-group-status="org-cliente"></span>
              </span>
            </summary>

            <div class="ad-acc__content">
              <div class="ad-table-wrap">
                <table class="ad-table ad-table--form ad-table--mini" data-calc="org">
                  <thead>
                    <tr>
                      <th style="width:54%">Compet√™ncia Organizacional</th>
                      <th style="width:16%">N√≠vel Requerido</th>
                      <th style="width:16%">N√≠vel Atingido</th>
                      <th style="width:14%">Desempenho</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="ad-row" data-group="org-cliente" data-req="5">
                      <td class="ad-q">‚Ä¢ Demonstra aten√ß√£o e cordialidade no atendimento a clientes internos e externos.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-cliente" data-req="5">
                      <td class="ad-q">‚Ä¢ Busca compreender as demandas antes de executar ou encaminhar solu√ß√µes.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-cliente" data-req="5">
                      <td class="ad-q">‚Ä¢ Preocupa-se com a qualidade e clareza das entregas realizadas.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </details>

          <details class="ad-acc is-complete" data-acc-group="org-prazos">
            <summary class="ad-acc__sum">
              <span class="ad-acc__left">
                <span class="ad-acc__caret" aria-hidden="true"></span>
                <span class="ad-acc__title">Organiza√ß√£o e cumprimento de prazos</span>
              </span>
              <span class="ad-acc__right">
                <span class="ad-acc__avg"><span data-avg-for="org-prazos">0%</span></span>
                <span class="ad-acc__status" aria-label="Status" data-group-status="org-prazos"></span>
              </span>
            </summary>

            <div class="ad-acc__content">
              <div class="ad-table-wrap">
                <table class="ad-table ad-table--form ad-table--mini" data-calc="org">
                  <thead>
                    <tr>
                      <th style="width:54%">Compet√™ncia Organizacional</th>
                      <th style="width:16%">N√≠vel Requerido</th>
                      <th style="width:16%">N√≠vel Atingido</th>
                      <th style="width:14%">Desempenho</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="ad-row" data-group="org-prazos" data-req="5">
                      <td class="ad-q">‚Ä¢ Mant√©m controle das pr√≥prias atividades e documentos sob sua responsabilidade.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-prazos" data-req="5">
                      <td class="ad-q">‚Ä¢ Cumpre prazos estabelecidos ou sinaliza previamente poss√≠veis atrasos.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-prazos" data-req="5">
                      <td class="ad-q">‚Ä¢ Segue processos e padr√µes definidos pela empresa.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </details>

          <details class="ad-acc is-complete" data-acc-group="org-aprend">
            <summary class="ad-acc__sum">
              <span class="ad-acc__left">
                <span class="ad-acc__caret" aria-hidden="true"></span>
                <span class="ad-acc__title">Aprendizado e evolu√ß√£o cont√≠nua</span>
              </span>
              <span class="ad-acc__right">
                <span class="ad-acc__avg"><span data-avg-for="org-aprend">0%</span></span>
                <span class="ad-acc__status" aria-label="Status" data-group-status="org-aprend"></span>
              </span>
            </summary>

            <div class="ad-acc__content">
              <div class="ad-table-wrap">
                <table class="ad-table ad-table--form ad-table--mini" data-calc="org">
                  <thead>
                    <tr>
                      <th style="width:54%">Compet√™ncia Organizacional</th>
                      <th style="width:16%">N√≠vel Requerido</th>
                      <th style="width:16%">N√≠vel Atingido</th>
                      <th style="width:14%">Desempenho</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="ad-row" data-group="org-aprend" data-req="5">
                      <td class="ad-q">‚Ä¢ Demonstra interesse em aprender novas rotinas, sistemas ou processos.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-aprend" data-req="5">
                      <td class="ad-q">‚Ä¢ Aplica aprendizados no dia a dia de trabalho.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-aprend" data-req="5">
                      <td class="ad-q">‚Ä¢ Busca evoluir tecnicamente e profissionalmente dentro da fun√ß√£o.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </details>

          <details class="ad-acc is-complete" data-acc-group="org-respeito">
            <summary class="ad-acc__sum">
              <span class="ad-acc__left">
                <span class="ad-acc__caret" aria-hidden="true"></span>
                <span class="ad-acc__title">Respeito e colabora√ß√£o</span>
              </span>
              <span class="ad-acc__right">
                <span class="ad-acc__avg"><span data-avg-for="org-respeito">0%</span></span>
                <span class="ad-acc__status" aria-label="Status" data-group-status="org-respeito"></span>
              </span>
            </summary>

            <div class="ad-acc__content">
              <div class="ad-table-wrap">
                <table class="ad-table ad-table--form ad-table--mini" data-calc="org">
                  <thead>
                    <tr>
                      <th style="width:54%">Compet√™ncia Organizacional</th>
                      <th style="width:16%">N√≠vel Requerido</th>
                      <th style="width:16%">N√≠vel Atingido</th>
                      <th style="width:14%">Desempenho</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="ad-row" data-group="org-respeito" data-req="5">
                      <td class="ad-q">‚Ä¢ Mant√©m relacionamento respeitoso com colegas, l√≠deres e clientes.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-respeito" data-req="5">
                      <td class="ad-q">‚Ä¢ Colabora com a equipe quando solicitado ou quando identifica necessidade.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>

                    <tr class="ad-row" data-group="org-respeito" data-req="5">
                      <td class="ad-q">‚Ä¢ Contribui para um ambiente de trabalho positivo e cooperativo.</td>
                      <td class="ad-center">5</td>
                      <td class="ad-center">
                        <select class="ad-select" data-role="att">
                          <option value="">Selecione</option>
                          <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                        </select>
                      </td>
                      <td class="ad-center"><span class="ad-pct" data-role="pct">0%</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </details>

          <label class="ad-label" for="obs-org">Observa√ß√µes (opcional)</label>
          <textarea id="obs-org" class="ad-textarea" rows="3" placeholder="Digite observa√ß√µes..."></textarea>

          <div class="ad-actions">
            <button class="ad-btn ad-btn--primary" type="button" data-action="salvar-tab" data-next="comp">
              Salvar e continuar
            </button>
          </div>
        </section>

        <!-- ====== COMPET√äNCIAS COMPORTAMENTAIS ====== -->
        <section class="ad-panel" id="tab-comp">
          <h3 class="ad-h3">Avalia√ß√£o das Compet√™ncias Comportamentais</h3>

          <div class="ad-scorecard">
            <div class="ad-scorecard__label">Resultado (Comportamentais)</div>
            <div class="ad-scorecard__value">
              <span id="scoreCompPct">0%</span>
              <span class="ad-scorecard__sep">|</span>
              <span id="scoreCompNota">0,00 / 10</span>
            </div>
          </div>

          <div class="ad-box ad-muted" style="margin-top:12px;">
            <strong>Refer√™ncia (1 a 5):</strong>
            <div style="display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:8px; margin-top:8px;">
              <div><strong>1</strong> = Raramente (20%)</div>
              <div><strong>2</strong> = Poucas vezes (40%)</div>
              <div><strong>3</strong> = Com frequ√™ncia (60%)</div>
              <div><strong>4</strong> = Muitas vezes (80%)</div>
              <div><strong>5</strong> = Todas as vezes (100%)</div>
            </div>
          </div>

          <div class="ad-table-wrap">
            <table class="ad-table ad-table--form" data-calc="comp">
              <thead>
                <tr>
                  <th style="width:18%">Compet√™ncia</th>
                  <th style="width:26%">Conceito</th>
                  <th style="width:32%">Indicadores</th>
                  <th style="width:8%">Grau</th>
                  <th style="width:10%">Desempenho</th>
                  <th style="width:6%">M√©dia</th>
                </tr>
              </thead>

              <tbody>
                <!-- Organiza√ß√£o (4) -->
                <tr class="ad-row" data-group="comp-org" data-req="4">
                  <td rowspan="3"><strong>Organiza√ß√£o</strong></td>
                  <td rowspan="3">Capacidade de estruturar e controlar atividades e rotinas.</td>
                  <td class="ad-q">‚Ä¢ Mant√©m documentos f√≠sicos e digitais organizados e atualizados.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-org">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-org" data-req="4">
                  <td class="ad-q">‚Ä¢ Segue rotinas administrativas sem gerar retrabalho.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-org" data-req="4">
                  <td class="ad-q">‚Ä¢ Demonstra facilidade para localizar informa√ß√µes quando solicitado.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Responsabilidade (5) -->
                <tr class="ad-row" data-group="comp-resp" data-req="5">
                  <td rowspan="3"><strong>Responsabilidade</strong></td>
                  <td rowspan="3">Assumir consequ√™ncias dos pr√≥prios atos e compromissos.</td>
                  <td class="ad-q">‚Ä¢ Cumpre prazos e acordos assumidos com autonomia.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-resp">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-resp" data-req="5">
                  <td class="ad-q">‚Ä¢ Assume suas tarefas sem necessidade de cobran√ßas constantes.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-resp" data-req="5">
                  <td class="ad-q">‚Ä¢ Comunica dificuldades ou imprevistos de forma antecipada.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Precis√£o (3) -->
                <tr class="ad-row" data-group="comp-prec" data-req="3">
                  <td rowspan="3"><strong>Precis√£o</strong></td>
                  <td rowspan="3">Rigor e cuidado na execu√ß√£o das tarefas, com aten√ß√£o aos detalhes.</td>
                  <td class="ad-q">‚Ä¢ Executa tarefas com aten√ß√£o, reduzindo erros operacionais.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-prec">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-prec" data-req="3">
                  <td class="ad-q">‚Ä¢ Realiza confer√™ncias b√°sicas antes de finalizar entregas.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-prec" data-req="3">
                  <td class="ad-q">‚Ä¢ Demonstra cuidado com dados, informa√ß√µes e registros.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Foco (4) -->
                <tr class="ad-row" data-group="comp-foco" data-req="4">
                  <td rowspan="3"><strong>Foco</strong></td>
                  <td rowspan="3">Manter aten√ß√£o direcionada para objetivos e prioridades.</td>
                  <td class="ad-q">‚Ä¢ Mant√©m aten√ß√£o nas atividades priorit√°rias do dia a dia.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-foco">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-foco" data-req="4">
                  <td class="ad-q">‚Ä¢ Consegue concluir tarefas sem dispers√µes frequentes.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-foco" data-req="4">
                  <td class="ad-q">‚Ä¢ Organiza seu tempo para finalizar as demandas propostas.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Trabalho em Equipe (5) -->
                <tr class="ad-row" data-group="comp-time" data-req="5">
                  <td rowspan="3"><strong>Trabalho em Equipe</strong></td>
                  <td rowspan="3">Capacidade de cooperar com outras pessoas em prol de objetivos comuns.</td>
                  <td class="ad-q">‚Ä¢ Coopera com colegas, oferecendo apoio quando necess√°rio.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-time">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-time" data-req="5">
                  <td class="ad-q">‚Ä¢ Mant√©m relacionamento respeitoso e colaborativo com o time.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-time" data-req="5">
                  <td class="ad-q">‚Ä¢ Contribui para o alcance dos objetivos coletivos da √°rea.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Flexibilidade (3) -->
                <tr class="ad-row" data-group="comp-flex" data-req="3">
                  <td rowspan="3"><strong>Flexibilidade</strong></td>
                  <td rowspan="3">Facilidade de adapta√ß√£o a mudan√ßas e novos cen√°rios.</td>
                  <td class="ad-q">‚Ä¢ Aceita ajustes nas rotinas e demandas quando necess√°rio.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-flex">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-flex" data-req="3">
                  <td class="ad-q">‚Ä¢ Demonstra abertura para mudan√ßas de processos e prioridades.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-flex" data-req="3">
                  <td class="ad-q">‚Ä¢ Consegue se adaptar gradualmente a novos contextos de trabalho.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Comprometimento (4) -->
                <tr class="ad-row" data-group="comp-comp" data-req="4">
                  <td rowspan="3"><strong>Comprometimento</strong></td>
                  <td rowspan="3">Honrar acordos e dedicar-se com responsabilidade √†s tarefas.</td>
                  <td class="ad-q">‚Ä¢ Demonstra envolvimento com as atividades sob sua responsabilidade.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-comp">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-comp" data-req="4">
                  <td class="ad-q">‚Ä¢ Cumpre o que foi combinado com a lideran√ßa e a equipe.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-comp" data-req="4">
                  <td class="ad-q">‚Ä¢ Mostra interesse em contribuir para os resultados da √°rea.</td>
                  <td class="ad-center">4</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4" selected>4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>

                <!-- Resili√™ncia (3) -->
                <tr class="ad-row" data-group="comp-resil" data-req="3">
                  <td rowspan="3"><strong>Resili√™ncia</strong></td>
                  <td rowspan="3">Capacidade de manter equil√≠brio diante de press√£o e adversidades.</td>
                  <td class="ad-q">‚Ä¢ Mant√©m postura equilibrada em momentos de maior demanda.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center" rowspan="3"><strong class="ad-avgval" data-avg-for="comp-resil">0%</strong></td>
                </tr>
                <tr class="ad-row" data-group="comp-resil" data-req="3">
                  <td class="ad-q">‚Ä¢ Consegue lidar com press√µes sem comprometer totalmente o desempenho.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
                <tr class="ad-row" data-group="comp-resil" data-req="3">
                  <td class="ad-q">‚Ä¢ Demonstra esfor√ßo para manter o controle emocional diante de dificuldades.</td>
                  <td class="ad-center">3</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3" selected>3</option><option value="4">4</option><option value="5">5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <label class="ad-label" for="obs-comp">Observa√ß√µes (opcional)</label>
          <textarea id="obs-comp" class="ad-textarea" rows="3" placeholder="Digite observa√ß√µes..."></textarea>

          <div class="ad-actions">
            <button class="ad-btn ad-btn--primary" type="button" data-action="salvar-tab" data-next="perf">
              Salvar e continuar
            </button>
          </div>
        </section>

        <!-- ====== PERFORMANCE ====== -->
        <section class="ad-panel" id="tab-perf">
          <h3 class="ad-h3">Avalia√ß√£o de Performance</h3>

          <div class="ad-scorecard">
            <div class="ad-scorecard__label">Resultado (Performance)</div>
            <div class="ad-scorecard__value">
              <span id="scorePerfPct">0%</span>
              <span class="ad-scorecard__sep">|</span>
              <span id="scorePerfNota">0,00 / 10</span>
            </div>
          </div>

          <div class="ad-box ad-muted" style="margin-top:12px;">
            <strong>Refer√™ncia (1 a 5):</strong>
            <div style="display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:8px; margin-top:8px;">
              <div><strong>1</strong> = Raramente (20%)</div>
              <div><strong>2</strong> = Poucas vezes (40%)</div>
              <div><strong>3</strong> = Com frequ√™ncia (60%)</div>
              <div><strong>4</strong> = Muitas vezes (80%)</div>
              <div><strong>5</strong> = Todas as vezes (100%)</div>
            </div>
          </div>

          <div class="ad-table-wrap">
            <table class="ad-table ad-table--form" data-calc="perf">
              <thead>
                <tr>
                  <th style="width:22%">Indicador</th>
                  <th style="width:52%">Descri√ß√£o</th>
                  <th style="width:8%">Grau</th>
                  <th style="width:12%">Desempenho</th>
                  <th style="width:6%">M√©dia</th>
                </tr>
              </thead>

              <tbody>
                <tr class="ad-row" data-req="5">
                  <td><strong>Organiza√ß√£o de documentos</strong></td>
                  <td>Mant√©m arquivos f√≠sicos e digitais organizados, facilitando a localiza√ß√£o das informa√ß√µes quando solicitadas.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Cumprimento de prazos</strong></td>
                  <td>Entrega as atividades dentro dos prazos combinados, sem necessidade de cobran√ßas constantes.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Qualidade das entregas</strong></td>
                  <td>Executa as tarefas com aten√ß√£o, reduzindo erros e retrabalho nas rotinas administrativas.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Responsabilidade com as tarefas</strong></td>
                  <td>Assume as demandas recebidas e acompanha at√© a conclus√£o, demonstrando comprometimento.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Apoio √†s rotinas do setor</strong></td>
                  <td>Contribui com as demandas da equipe, oferecendo suporte sempre que solicitado.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Organiza√ß√£o da rotina de trabalho</strong></td>
                  <td>Consegue manter uma rotina organizada, priorizando atividades e evitando ac√∫mulo de tarefas.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Aten√ß√£o √†s orienta√ß√µes</strong></td>
                  <td>Executa as atividades conforme instru√ß√µes recebidas, respeitando processos e padr√µes.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Postura profissional</strong></td>
                  <td>Mant√©m comportamento adequado, respeito com colegas e cuidado com o ambiente de trabalho.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Evolu√ß√£o no aprendizado</strong></td>
                  <td>Demonstra evolu√ß√£o ao longo do tempo, reduzindo d√∫vidas e ganhando mais autonomia.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-row" data-req="5">
                  <td><strong>Compromisso com o trabalho</strong></td>
                  <td>Demonstra interesse, envolvimento e disposi√ß√£o para contribuir com o funcionamento da √°rea.</td>
                  <td class="ad-center">5</td>
                  <td class="ad-center">
                    <select class="ad-select" data-role="att">
                      <option value="">Selecione</option>
                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5" selected>5</option>
                    </select>
                    <div class="ad-muted" style="margin-top:6px;"><span class="ad-pct" data-role="pct">0%</span></div>
                  </td>
                  <td class="ad-center">‚Äî</td>
                </tr>

                <tr class="ad-divider">
                  <td colspan="4">
                    <div class="ad-avg">
                      <span>M√©dia dos Indicadores:</span>
                      <strong id="avgPerfTable">0%</strong>
                    </div>
                  </td>
                  <td class="ad-center"><strong id="avgPerfTable2">0%</strong></td>
                </tr>
              </tbody>
            </table>
          </div>

          <label class="ad-label" for="obs-perf">Observa√ß√µes (opcional)</label>
          <textarea id="obs-perf" class="ad-textarea" rows="3" placeholder="Digite observa√ß√µes..."></textarea>

          <div class="ad-actions">
            <button class="ad-btn ad-btn--primary" type="button" data-action="salvar-tab" data-next="res">
              Salvar e continuar
            </button>
          </div>
        </section>

        <!-- ====== RESULTADOS ====== -->
        <section class="ad-panel" id="tab-res">
          <div class="ad-panel__top">
            <h3 class="ad-h3">Resultado Final</h3>
            <a class="ad-link" href="#" onclick="alert('Exemplo: nota final = m√©dia simples das tr√™s notas (Org + Comp + Perf) / 3.'); return false;">
              ? Como foi calculada a Nota FINAL?
            </a>
          </div>

          <div class="ad-final">
            <div class="ad-final__row ad-final__row--org">
              <span>Nota Compet√™ncias Organizacionais</span>
              <strong id="finalOrg">0,00</strong>
            </div>
            <div class="ad-final__row ad-final__row--comp">
              <span>Nota Compet√™ncias Comportamentais</span>
              <strong id="finalComp">0,00</strong>
            </div>
            <div class="ad-final__row ad-final__row--perf">
              <span>Nota Indicadores de Performance</span>
              <strong id="finalPerf">0,00</strong>
            </div>
            <div class="ad-final__row ad-final__row--total">
              <span>Nota FINAL</span>
              <strong id="finalTotal">0,00</strong>
            </div>
          </div>

          <label class="ad-label" for="parecer">Parecer do L√≠der (obrigat√≥rio)</label>
          <textarea id="parecer" class="ad-textarea" rows="4" placeholder="Digite observa√ß√µes sobre o desempenho do colaborador e recomenda√ß√µes..."></textarea>

          <div class="ad-actions ad-actions--between">
            <button class="ad-btn ad-btn--ghost" type="button" data-action="voltar-tab" data-prev="perf">‚Üê Voltar</button>

            <button class="ad-btn ad-btn--primary" type="button" data-action="concluir">
              Concluir Avalia√ß√£o
            </button>
          </div>
        </section>
      </div>
    </section>
  </main>

  <script>
    (function () {
      const views = {
        ciclos: document.getElementById("view-ciclos"),
        colabs: document.getElementById("view-colaboradores"),
        avaliacao: document.getElementById("view-avaliacao"),
      };

      function showView(key) {
        Object.values(views).forEach(v => v.classList.remove("is-active"));
        views[key].classList.add("is-active");
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // ---------- Tabs ----------
      const tabs = document.querySelectorAll(".ad-tab");
      const panels = {
        orientacoes: document.getElementById("tab-orientacoes"),
        org: document.getElementById("tab-org"),
        comp: document.getElementById("tab-comp"),
        perf: document.getElementById("tab-perf"),
        res: document.getElementById("tab-res"),
      };

      function activateTab(key) {
        tabs.forEach(t => t.classList.toggle("is-active", t.dataset.tab === key));
        Object.entries(panels).forEach(([k, el]) => el.classList.toggle("is-active", k === key));
      }

      tabs.forEach(btn => btn.addEventListener("click", () => activateTab(btn.dataset.tab)));

      // ---------- Header meta ----------
      const meta = {
        colab: document.getElementById("metaColab"),
        cargo: document.getElementById("metaCargo"),
        depto: document.getElementById("metaDepto"),
        lider: document.getElementById("metaLider"),
        data: document.getElementById("metaDataAvaliacao"),
      };

      const cycleTitle = document.getElementById("cycleTitle");
      const cycleSub = document.getElementById("cycleSub");
      const avaliacaoTitle = document.getElementById("avaliacaoTitle");

      // ---------- Dados (conforme documento) ----------
      const COLABS_ANDAMENTO = [
        { colaborador: "Ana Paula Souza", cargo: "Auxiliar Administrativo", depto: "Financeiro", admissao: "10/02/2023", status: "N√£o avaliado", data: "‚Äî", acaoLabel: "Avaliar", acaoHabilitada: false },
        { colaborador: "Jo√£o Victor Martins", cargo: "Operador Produ√ß√£o", depto: "Produ√ß√£o", admissao: "05/05/2021", status: "N√£o avaliado", data: "‚Äî", acaoLabel: "Avaliar", acaoHabilitada: false },
        { colaborador: "Fernanda Rocha", cargo: "Analista Financeiro", depto: "Financeiro", admissao: "15/10/2020", status: "Avaliado", data: "08/05/2024", acaoLabel: "Visualizar", acaoHabilitada: false },
        { colaborador: "Marcos Oliveira", cargo: "Supervisor Vendas", depto: "Comercial", admissao: "12/01/2019", status: "N√£o avaliado", data: "‚Äî", acaoLabel: "Avaliar", acaoHabilitada: false },
      ];

      const COLABS_ENCERRADO = [
        { colaborador: "Ana Paula Souza", cargo: "Auxiliar Administrativo", depto: "Financeiro", admissao: "10/02/2023", status: "Avaliado", data: "09/07/2025", acaoLabel: "Visualizar", acaoHabilitada: true, avaliacao: { lider: "Mariana Teixeira" } },
        { colaborador: "Jo√£o Victor Martins", cargo: "Operador Produ√ß√£o", depto: "Produ√ß√£o", admissao: "05/05/2021", status: "Avaliado", data: "11/07/2025", acaoLabel: "Visualizar", acaoHabilitada: false, avaliacao: { lider: "Mariana Teixeira" } },
        { colaborador: "Fernanda Rocha", cargo: "Analista Financeiro", depto: "Financeiro", admissao: "15/10/2020", status: "Avaliado", data: "12/07/2025", acaoLabel: "Visualizar", acaoHabilitada: false, avaliacao: { lider: "Mariana Teixeira" } },
        { colaborador: "Marcos Oliveira", cargo: "Supervisor Vendas", depto: "Comercial", admissao: "12/01/2019", status: "Avaliado", data: "13/07/2025", acaoLabel: "Visualizar", acaoHabilitada: false, avaliacao: { lider: "Mariana Teixeira" } },
      ];

      let currentCycleMode = "andamento"; // andamento | encerrado
      let currentCycleLabel = "";

      function pillHTML(status) {
        if (status === "Avaliado") return '<span class="ad-pill ad-pill--ok">üü¢ Avaliado</span>';
        return '<span class="ad-pill ad-pill--danger">üî¥ N√£o avaliado</span>';
      }

      function renderColabs(list) {
        const tbody = document.getElementById("colabsBody");
        tbody.innerHTML = "";

        list.forEach((c) => {
          const tr = document.createElement("tr");

          tr.innerHTML = `
            <td data-col="colaborador">${c.colaborador}</td>
            <td data-col="cargo">${c.cargo}</td>
            <td data-col="depto">${c.depto}</td>
            <td data-col="admissao">${c.admissao}</td>
            <td data-col="status">${pillHTML(c.status)}</td>
            <td>${c.data}</td>
            <td class="ad-col-actions"></td>
          `;

          const actionsTd = tr.querySelector(".ad-col-actions");

          if (!c.acaoHabilitada) {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "ad-btn ad-btn--small ad-btn--ghost";
            btn.textContent = c.acaoLabel;
            btn.disabled = true;
            actionsTd.appendChild(btn);
          } else {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "ad-btn ad-btn--small ad-btn--success";
            btn.textContent = c.acaoLabel;

            btn.dataset.action = "abrir-avaliacao";
            btn.dataset.colab = c.colaborador;
            btn.dataset.cargo = c.cargo;
            btn.dataset.depto = c.depto;
            btn.dataset.lider = (c.avaliacao?.lider || "‚Äî");
            btn.dataset.status = "visualizar";
            btn.dataset.dataAvaliacao = c.data;

            actionsTd.appendChild(btn);
          }

          tbody.appendChild(tr);
        });
      }

      // ---------- C√°lculo (ajustado para m√∫ltiplas tabelas por se√ß√£o) ----------
      function calcByScope(scopeKey) {
        const tables = document.querySelectorAll(`table[data-calc="${scopeKey}"]`);
        const rows = Array.from(tables).flatMap(t => Array.from(t.querySelectorAll(".ad-row")));

        let sumPct = 0;
        let count = 0;

        const groups = {}; // groupKey -> {sum, count}

        rows.forEach(r => {
          const req = Number(r.dataset.req || 5);
          const attSel = r.querySelector('[data-role="att"]');
          const pctEl = r.querySelector('[data-role="pct"]');

          const att = Number(attSel?.value || 0); // ‚úÖ vazio = 0
          const pct = (req > 0) ? Math.max(0, Math.min(100, (att / req) * 100)) : 0;

          if (pctEl) pctEl.textContent = `${Math.round(pct)}%`;

          const g = r.dataset.group || "__all__";
          groups[g] = groups[g] || { sum: 0, count: 0 };
          groups[g].sum += pct;
          groups[g].count += 1;

          sumPct += pct;
          count++;
        });

        // atualiza m√©dias por grupo (funciona no accordion porque o data-avg-for est√° no summary)
        Object.entries(groups).forEach(([g, v]) => {
          const avg = v.count ? (v.sum / v.count) : 0;
          document.querySelectorAll(`[data-avg-for="${g}"]`).forEach(el => {
            el.textContent = `${Math.round(avg)}%`;
          });
        });

        const avgPct = count ? (sumPct / count) : 0;
        const nota10 = avgPct / 10;
        return { avgPct, nota10 };
      }

      function formatPt(n) {
        return n.toFixed(2).replace(".", ",");
      }

      // ---------- Status (‚úÖ √≠cone verde/vermelho por item no accordion) ----------
      function updateAccStatus() {
        const accs = document.querySelectorAll("[data-acc-group]");
        accs.forEach(acc => {
          const groupKey = acc.getAttribute("data-acc-group");
          const selects = acc.querySelectorAll(`.ad-row[data-group="${groupKey}"] .ad-select[data-role="att"]`);

          // completo se TODOS tiverem valor
          const hasMissing = Array.from(selects).some(s => !String(s.value || "").trim());
          acc.classList.toggle("is-incomplete", hasMissing);
          acc.classList.toggle("is-complete", !hasMissing);
        });
      }

      function recalcAll() {
        const org = calcByScope("org");
        const comp = calcByScope("comp");
        const perf = calcByScope("perf");

        // cards
        document.getElementById("scoreOrgPct").textContent = `${formatPt(org.avgPct)}%`;
        document.getElementById("scoreOrgNota").textContent = `${formatPt(org.nota10)} / 10`;

        document.getElementById("scoreCompPct").textContent = `${formatPt(comp.avgPct)}%`;
        document.getElementById("scoreCompNota").textContent = `${formatPt(comp.nota10)} / 10`;

        document.getElementById("scorePerfPct").textContent = `${formatPt(perf.avgPct)}%`;
        document.getElementById("scorePerfNota").textContent = `${formatPt(perf.nota10)} / 10`;

        // m√©dia perf na tabela
        const avgPerfTable = document.getElementById("avgPerfTable");
        const avgPerfTable2 = document.getElementById("avgPerfTable2");
        if (avgPerfTable) avgPerfTable.textContent = `${Math.round(perf.avgPct)}%`;
        if (avgPerfTable2) avgPerfTable2.textContent = `${Math.round(perf.avgPct)}%`;

        // final
        const final = (org.nota10 + comp.nota10 + perf.nota10) / 3;
        document.getElementById("finalOrg").textContent = formatPt(org.nota10);
        document.getElementById("finalComp").textContent = formatPt(comp.nota10);
        document.getElementById("finalPerf").textContent = formatPt(perf.nota10);
        document.getElementById("finalTotal").textContent = formatPt(final);

        // ‚úÖ atualiza √≠cones verde/vermelho
        updateAccStatus();
      }

      document.addEventListener("change", (e) => {
        if (e.target.matches(".ad-select")) recalcAll();
      });

      // ---------- A√ß√µes ----------
      document.addEventListener("click", (e) => {
        const btn = e.target.closest("[data-action]");
        if (!btn) return;

        const action = btn.dataset.action;

        if (action === "acessar-ciclo") {
          const cycleStatus = btn.dataset.cycleStatus || "";
          const cycleLabel = btn.dataset.cycleLabel || "Avalia√ß√£o de Desempenho";
          currentCycleLabel = cycleLabel;

          if (cycleStatus === "N√£o iniciado") {
            alert("Fora do per√≠odo de avalia√ß√£o.");
            return;
          }

          if (cycleStatus === "Em andamento") {
            currentCycleMode = "andamento";
            cycleTitle.textContent = `Avalia√ß√£o de Desempenho ‚Äî ${cycleLabel}`;
            cycleSub.textContent = "Em andamento (modelo): sem cliques em Avaliar/Visualizar.";
            renderColabs(COLABS_ANDAMENTO);
            showView("colabs");
            return;
          }
        }

        if (action === "ver-resultados") {
          const cycleLabel = btn.dataset.cycleLabel || "Ciclo Encerrado";
          currentCycleMode = "encerrado";
          currentCycleLabel = cycleLabel;

          cycleTitle.textContent = `Avalia√ß√£o de Desempenho ‚Äî ${cycleLabel}`;
          cycleSub.textContent = "Encerrado: apenas o Visualizar de Ana Paula Souza est√° habilitado (prot√≥tipo).";
          renderColabs(COLABS_ENCERRADO);
          showView("colabs");
          return;
        }

        if (action === "voltar-ciclos") {
          showView("ciclos");
          return;
        }

        if (action === "abrir-avaliacao") {
          const colab = btn.dataset.colab || "‚Äî";
          const cargo = btn.dataset.cargo || "‚Äî";
          const depto = btn.dataset.depto || "‚Äî";
          const lider = btn.dataset.lider || "‚Äî";
          const status = btn.dataset.status || "";
          const dataAvaliacao = btn.dataset.dataAvaliacao || "";

          meta.colab.textContent = colab;
          meta.cargo.textContent = cargo;
          meta.depto.textContent = depto;
          meta.lider.textContent = lider;
          meta.data.value = dataAvaliacao;

          avaliacaoTitle.textContent = `Avalia√ß√£o de Desempenho ‚Äî ${currentCycleLabel}`;

          const readonly = (status === "visualizar");
          document.querySelectorAll("#view-avaliacao .ad-select, #view-avaliacao .ad-input, #view-avaliacao .ad-textarea")
            .forEach(el => el.disabled = readonly);

          showView("avaliacao");
          activateTab("orientacoes");
          recalcAll();
          return;
        }

        if (action === "voltar-colaboradores") {
          showView("colabs");
          return;
        }

        if (action === "proximo-tab") {
          activateTab(btn.dataset.next);
          return;
        }

        if (action === "salvar-tab") {
          recalcAll();
          activateTab(btn.dataset.next);
          return;
        }

        if (action === "voltar-tab") {
          activateTab(btn.dataset.prev);
          return;
        }

        if (action === "concluir") {
          const parecer = document.getElementById("parecer").value.trim();
          if (!parecer) {
            alert("Parecer do l√≠der √© obrigat√≥rio (prot√≥tipo).");
            return;
          }
          alert("Avalia√ß√£o conclu√≠da (prot√≥tipo).");
          showView("colabs");
          return;
        }

        if (action === "novo-ciclo") {
          alert("Novo ciclo ainda n√£o implementado (prot√≥tipo).");
          return;
        }
      });

      // ---------- Filtros ----------
      function bindTableFilters(tableId, searchId) {
        const table = document.getElementById(tableId);
        const search = document.getElementById(searchId);
        if (!table) return;

        const filters = table.querySelectorAll(".ad-filter");

        function apply() {
          const q = (search?.value || "").toLowerCase().trim();
          const filterValues = {};
          filters.forEach(f => filterValues[f.dataset.col] = (f.value || "").toLowerCase().trim());

          table.querySelectorAll("tbody tr").forEach(tr => {
            const text = tr.innerText.toLowerCase();
            const matchSearch = !q || text.includes(q);

            let matchFilters = true;
            Object.entries(filterValues).forEach(([col, val]) => {
              if (!val) return;
              const cell = tr.querySelector(`[data-col="${col}"]`);
              const cellText = (cell?.innerText || "").toLowerCase();
              if (!cellText.includes(val)) matchFilters = false;
            });

            tr.style.display = (matchSearch && matchFilters) ? "" : "none";
          });
        }

        search?.addEventListener("input", apply);
        filters.forEach(f => f.addEventListener("input", apply));
        filters.forEach(f => f.addEventListener("change", apply));
      }

      bindTableFilters("tableCiclos", "searchCiclo");
      bindTableFilters("tableColabs", "searchColab");

      // ‚úÖ inicia com tudo recolhido + calcula e pinta status
      document.querySelectorAll("#tab-org details.ad-acc").forEach(d => d.open = false);
      recalcAll();
    })();
  </script>
</body>
</html>
